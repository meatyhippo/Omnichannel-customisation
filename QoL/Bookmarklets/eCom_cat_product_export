javascript:!function(){function e(){let e=`https://${i}/admin/categories/${l}/products.json?limit=${r}`,o=encodeURI(e),a=new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){a.status>=200&&a.status<400&&(t=JSON.parse(a.responseText),d=t.links.pages,n())},a.send()}function n(){for(c=0;c<d;c+=1){function e(){let e=`https://${i}/admin/categories/${l}/products.json?limit=${r}&page=${c}`;console.log(e);let n=encodeURI(e),a=new XMLHttpRequest;a.open("GET",n,!1),a.onload=function(){a.status>=200&&a.status<400&&(t=JSON.parse(a.responseText),t.data.forEach(e=>{null==e.product.brand?e.brandname="":(console.log("brand"),e.brandname=e.product.brand.title),e.name="",e.product.i18n.nl?e.name=e.product.i18n.nl.title:e.product.i18n.en&&(e.name=e.product.i18n.en.title),delete e.id,delete e.product,delete e.position}),o())},a.send()}e()}}function o(){s+=Papa.unparse(t.data,{header:!0,delimiter:";"}),console.log(s.length+` characters in csv | page: ${c}/${d} | `+c/d*100+"%"),c+1>=d&&(console.log(s),setTimeout(a,2e3))}function a(){var e=new Date,t=new Blob([s]),n=document.createElement("a");n.href=window.URL.createObjectURL(t,{type:"text/plain"}),n.download=e.toString().replace(/ /g,"_")+"_export.csv",n.click()}let s,c,d,i=window.location.host,l=window.location.pathname.match(/\d+/),r=50;if(s="",document.getElementById("Parser"))console.log("Ready");else{let e=document.createElement("script");e.id="Parser",e.setAttribute("src","https://cdn.jsdelivr.net/gh/mholt/PapaParse/papaparse.min.js"),document.head.appendChild(e)}e()}();
