<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <title>Discount Code Generator</title>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark" style="background-color: #e9ecef;">                  
        <span class="navbar-text">
                <img class="logo" src="https://cdn.webshopapp.com/shops/244588/files/281387809/lightspeed-1.png" alt="Lightspeed Discount Generator" >
        </span>  
    </nav> 
    <div class="container">
        <div class="jumbotron">            
            <h1 class="display-4">Generate your codes here!</h1>
            <p class="lead">Fill in the amout of discount code you want to generate.</p>
            <div class="form-group">  
                
                    <input type="number" class="form-control" id="discountCodeAmount" required>
                    <small id="helpId" class="form-text text-muted">Fill in the numbers of discount codes.</small>
                    <hr class="my-2">
                    <input type="number" class="form-control" id="discountCodeQuantity" max="11" required>
                    <small id="helpId" class="form-text text-muted">Fill in how many characters in discount code <i>(max 11 characters).</i></small> 
                    <br><br>
                    <p class="lead">
                        <button type="submit" class="btn btn-success btn-generate" onclick="codes()">Generate now!</button>
                        <button type="button" class="btn btn-info" id="copyButton">Copy to clipbord</button>
                        <button type="button" class="btn btn-warning" onclick="javascript:location.reload();">Reset</button>
                    </p>
                
                <hr class="my-2">
                    <div>
                        <textarea name="codes" id="discountCodes"></textarea>
                    </div>   
                    
                <hr class="my-2">
                <div class="page-break"></div>
                    <div id="discountDisplay">
                    </div>
                
                <table id="table0"></table>
              
            </div>
        </div>
    </div>
    <script type="text/javascript">    

    
              
        var y = document.getElementById('discountCodes');
        function codes() {
                var input = document.getElementById('discountCodeAmount').value;
                var quantity = document.getElementById('discountCodeQuantity').value; 
                var arr = [];
                var text = "";
                let couponDiv = document.createElement('div');
                couponDiv.className = "couponDiv";
                for (var i = 0; i < input; i++) {
                    arr[i] = Math.random().toString(36).substr(2, quantity);
                    text += arr[i] + "\n";
                                
                        var singleCoupon = document.createElement('div');
                        singleCoupon.className = "coupon";
                        singleCoupon.style.marginBottom = "20px";

                        var img = document.createElement('img');
                        img.src = "https://cdn.webshopapp.com/shops/244588/files/281387809/lightspeed-1.png";
                        img.alt = "Company Logo";
                        img.style.width = "40%";
                        
                        singleCoupon.appendChild(img);
                        
                        var head = document.createElement('h2');
                        var inputText = document.createTextNode("â‚¬ 15 KORTING");
                        head.appendChild(inputText);
                        singleCoupon.appendChild(head);
                        
                        var par = document.createElement('p');
                        var span = document.createElement('span');
                        span.className = "promo";
                        span.id = span.className;
                        par.innerHTML = "Je persoonlijke code: ";
                        span.innerHTML += arr[i];

                        par.appendChild(span);
                        singleCoupon.appendChild(par);

                        var pageBreak = document.createElement('div');
                        pageBreak.className = "page-break";

                        couponDiv.appendChild(singleCoupon);
                        singleCoupon.appendChild(pageBreak);    
                }            
                y.innerHTML += text;

                //span.innerHTML += text;
                document.getElementById("discountDisplay").appendChild(couponDiv);

                console.log(text);
        }
        document.getElementById("copyButton").addEventListener("click", function (event) {
            event.preventDefault();
            y.select();
            document.execCommand('copy');
        });

    </script>
    <!-- <script type="text/javascript">
         $("#gui-checkout-payment-methods > div.gui-payment-method-wrapper > div > div.gui-payment-methods > div:nth-child(2) > label > span > span.gui-payment-method-name").append(" (2%)");
         $("#gui-checkout-payment-methods > div.gui-payment-method-wrapper > div > div.gui-payment-methods > div:nth-child(3) > label > span > span.gui-payment-method-name").append(" (2%)");
         $("#gui-checkout-payment-methods > div.gui-payment-method-wrapper > div > div.gui-payment-methods > div:nth-child(4) > label > span > span.gui-payment-method-name").append(" (2%)");                    
     </script> -->
</body>
</html>
<style>
    @page {
        size: A4;
    }
    @media print {
    .page-break	{ 
        display: block; 
        page-break-before: auto; }
    }  
    .navbar{
        width: 100%;
    }
    .navbar-brand{
        color: black !important;
    }
    .jumbotron{
        background-color: #c5c5c5;
        margin-top: 20px;
    }
    ul {
        list-style-type: none;
    }
    .logo{       
        width: 200px;
    }
  
    textarea {
        width: 100%;
        height: 400px;
        min-height: 250px;
    }

    .coupon {
        border: 5px dotted #bbb;
        width: 80%; 
        border-radius: 15px; 
        margin: 0 auto;
        max-width: 300px; 
        text-align: center;
}
.couponDiv{
    display: table;
}

.containerCoupon1 {
    padding: 2px 16px;
    
}
.containerCoupon2 {
    padding: 2px 16px;
    background-color: #f1f1f1;
    
}
h2{
 font-weight: bold; 
 background-color: #fff;  
}


.promo {
    background: #ccc;
    padding: 3px;
}

.expire {
    color: red;
}
</style>