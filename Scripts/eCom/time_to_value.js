!function(){function e(e,t,n){let s="",o=0;tr=document.createElement("tr"),tr.id=n,td=document.createElement("td"),td.appendChild(document.createTextNode(e)),td.appendChild(document.createTextNode(": ")),tr.appendChild(td),table.appendChild(tr),"object"==typeof t?t.forEach((d,i)=>{let a=new XMLHttpRequest;a.open("GET",SEOshop.react.shop.admin_url+d,!0),a.onload=function(){if(a.status>=200&&a.status<400)switch(o++,y=JSON.parse(a.response),e){case"Shipment providers":d.includes("postnl")&&y.postnl_settings.is_active&&(s+="PostNL + "),d.includes("bpost")&&y.bpost_settings.is_active&&(s+="Bpost + "),d.includes("shipping_methods")&&y.shipping_methods.length>0&&(s+=`Manual shipping: ${y.shipping_methods.length} + `),o==t.length&&document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Payments providers":y.payment_provider_shops.length>=1?y.payment_provider_shops.forEach(e=>{e.is_active&&(s+=`${e.payment_provider.title} + `)}):s+="no",document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Added products":s=y.products.length>0?"yes":"no",document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Added categories":s=y.categories.length>0?"yes":"no",document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Product images":if(y.products.length>0){let e=0;y.products.forEach(t=>{t.image&&e++});let t=e/y.products.length*100;s=`${t}% (${e}/${y.products.length})`}else s="no";document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"SEO fields":break;case"Headlines":s=y.headlines.length>0?"yes":"no",document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Reviews":s=y.reviews.length>0?"yes":"no",document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Theme":y.themes[0].en.title&&y.themes[0].en.title.length>0?s=y.themes[0].en.title:y.themes[0].nl.title&&(s=y.themes[0].nl.title),document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Total revenue":s="€ "+y.statistics.financials.stats.total_revenue_incl+" (average order: €"+y.statistics.financials.stats.avg_order_value_incl+")",document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Orders":s=y.links.count,document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Last login":y.shop_users.forEach(e=>{s=e.is_shop_owner&&e.user.last_login_at>0?e.user.last_login_at.match(/((.+)T)/gi):"none"}),document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"SEO_fields":if(y.products.length>0){let e=0,t=0;y.products.forEach(n=>{for(const s in n.metafields)if(Object.hasOwnProperty.call(n.metafields,s)){const o=n.metafields[s];e++,o.length>0&&t++}}),s=`${t/e*100}% (${t}/${e})`}else s="no";document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;case"Google Analytics/GSC":d.includes("web_statistics")?(console.log(y),y.web_statistics.stats_google_analytics.tracking_id&&y.web_statistics.stats_google_analytics.tracking_id.length>1?s+=`${y.web_statistics.stats_google_analytics.tracking_id} // `:s+="nope // "):d.includes("web_extras")&&(console.log(y),y.settings.google_search_console.meta_tags.length>0?s+=`${y.settings.google_search_console.meta_tags.length} tags`:s+="nope"),o==t.length&&document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`);break;default:document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${s}</td>`)}},a.send()}):"string"==typeof t&&document.getElementById(n).insertAdjacentHTML("beforeend",`<td>${t}</td>`)}let t="\n\t\t#types{padding: 30px!important;position: absolute!important;top: 50%!important;left: 50%!important;transform: translate(-50%,-50%)!important;background-color: rgba(0,0,0,0.3)!important;color:#ffffff;}\n\t\t#wrapper{position: fixed!important;z-index: 99999999!important;background-color: rgba(0,0,0,0.6)!important;top: 0!important;bottom: 0!important;left: 0!important;right: 0!important;height: 100vh!important;display: block;}\n\t\t#table{font-size: 16px!important;border-collapse: separate!important;border-spacing: 0px 0.3em!important;}\n\t\t#table tbody {line-height: 20px!important;}\n\t\t#table tr td {min-width: 160px;}",n=document.createElement("style");n.innerHTML=t,document.body.appendChild(n),div_wrap=document.createElement("div"),div_wrap.id="wrapper",div_wrap.onclick=function(){document.body.removeChild(div_wrap)},div=document.createElement("div"),div.onclick=function(e){e.stopPropagation()},div.id="types",table=document.createElement("table"),table.id="table",div.appendChild(table),div_wrap.appendChild(div),document.body.appendChild(div_wrap),e("Connected domain",SEOshop.react.shop.shop_url.includes("webshopapp")?"no":"yes",1),e("Shipment providers",["shipping_methods.json","shipment_providers/settings/postnl.json","shipment_providers/settings/bpost.json"],2),e("Payments providers",["payment_providers.json"],3),e("Added products",["products.json"],4),e("Added categories",["categories.json"],5),e("Product images",["products.json"],6),e("Headlines",["headlines.json"],7),e("Reviews",["reviews.json"],8),e("Theme",["themes.json"],9),e("Total revenue",["statistics.json"],10),e("Orders",["orders.json?limit=1"],11),e("Last login",["shop_users.json"],12),e("SEO_fields",["products.json"],13),e("Google Analytics/GSC",["web_statistics.json","settings/web_extras.json"],14)}();
