!function(){function e(){function e(e,t,n,s){if(row=document.createElement("tr"),col=document.createElement("td"),col.appendChild(document.createTextNode(`${e}:`)),row.appendChild(col),n)switch(n){case"IDs":col=document.createElement("td"),p=document.createTextNode(t),col.appendChild(p),o.rad_id>0&&(col.appendChild(document.createTextNode(" // ")),a=document.createElement("a"),a.appendChild(document.createTextNode(o.rad_id)),a.target="_blank",a.href=`https://shop.merchantos.com/?name=system.views.account&form_name=view&id=${o.rad_id}&tab=details`,col.appendChild(a)),o.shop_users.shop_users.forEach(e=>{e.is_shop_owner&&(o.shopowner=e.user.email)}),col.appendChild(document.createTextNode(" // ")),a=document.createElement("a"),a.appendChild(document.createTextNode(o.shopowner)),a.target="_blank",a.href=location.origin+"/admin/shop_users",col.appendChild(a);break;case"cluster":col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(t)),a.target="_blank",location.host.includes("webshopapp")?a.href=`https://seoshop.webshopapp.com/backoffice/core/setshop.do?id=${t}`:location.host.includes("shoplightspeed")&&(a.href=`https://store.shoplightspeed.com/backoffice/admin-shops/edit?id=${t}`),col.appendChild(a),col.appendChild(document.createTextNode(` // ${o.cluster}`));break;case"themes":let e=["search;","settings;"+`${location.origin}/admin/theme/preview`,t?"editor;"+`${location.origin}/admin/${n}/${o.headlines.shop.theme_id}`:"","custom css;"+`${location.origin}/admin/themes/${o.headlines.shop.theme_id}/editor/css`];col=document.createElement("td"),e.forEach((t,o)=>{a=document.createElement("a"),a.target="_blank",a.appendChild(document.createTextNode(t.split(";")[0])),"search"!=t.split(";")[0]?a.href=t.split(";")[1]:a.onclick=function(){console.log("start search");let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/gh/meatyhippo/Omnichannel-customisation@v1.8.4/Scripts/eCom/theme_search.js",document.body.appendChild(e),document.body.removeChild(div_wrap)},col.appendChild(a),""!=t&&(o!=e.length-1&&col.appendChild(document.createTextNode(" // ")))});break;case"language":col=document.createElement("td");let d={NL:1,EN:3,FR:4,DE:2},i=0;for(const e in d)i++,a=document.createElement("a"),a.onclick=function(){jQuery.post("/admin/account/edit","_method=patch&utf8=%25E2%259C%2593&user[language_id]="+d[e],function(t){Turbolinks.visit(location),console.log("switching to "+e)})},a.appendChild(document.createTextNode(e)),col.appendChild(a),i!=Object.keys(d).length&&col.appendChild(document.createTextNode(" // "));break;case"quickies":col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(" ")),a.classList.add("arrow_right"),a.onclick=function(){$("#links").toggleClass("hide"),$(this).toggleClass("arrow_down")},col.appendChild(a),div=document.createElement("div"),div.id="links",div.classList.add("hide"),tables=document.createElement("table"),o.quickLinks.forEach(e=>{tr=document.createElement("tr"),e.split(";").forEach(e=>{td=document.createElement("td"),a=document.createElement("a"),a.href=location.origin+"/admin"+e,a.target="_blank",a.appendChild(document.createTextNode(e)),td.appendChild(a),tr.appendChild(td)}),tables.appendChild(tr)}),div.appendChild(tables),col.appendChild(div);break;case"SUB":col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(" ")),a.classList.add("arrow_right"),a.onclick=function(){$("#SUB").toggleClass("hide"),$(this).toggleClass("arrow_down")},col.appendChild(a),div=document.createElement("div"),div.id="SUB",div.classList.add("hide"),tables=document.createElement("table"),o.sub_info.forEach(e=>{tr=document.createElement("tr"),e.split(";").forEach(e=>{td=document.createElement("td"),td.appendChild(document.createTextNode(e)),tr.appendChild(td)}),tables.appendChild(tr)}),div.appendChild(tables),col.appendChild(div);break;default:col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(t)),a.target="_blank",a.href=s?n:`${location.origin}/admin/${n}`,col.appendChild(a)}else col=document.createElement("td"),col.appendChild(document.createTextNode(t));row.appendChild(col),tbody.appendChild(row)}div_wrap=document.createElement("div"),div_wrap.id="shop_id_wrapper",div_wrap.onclick=function(){document.body.removeChild(div_wrap),document.body.removeChild(document.querySelectorAll('script[src^="https://cdn.jsdelivr.net/gh/meatyhippo/"]')[0])},div_box=document.createElement("div"),div_box.id="shop_id_box",div_box.onclick=function(e){e.stopPropagation()},v_box=document.createElement("div"),v_box.id="shop_id_version",v_box.innerHTML="<p>v1.5</br>what's new: theme search, subscription info, RETAIL ID!</p>",close=document.createElement("div"),close.id="shop_id_close",close.onclick=function(){document.body.removeChild(div_wrap),document.body.removeChild(document.querySelectorAll('script[src^="https://cdn.jsdelivr.net/gh/meatyhippo/"]')[0])},table=document.createElement("table"),table.id="shop_id_table",tbody=document.createElement("tbody"),e(`Shop id // ${o.rad_id>0?"rad_id // ":""}primary user`,o.shop_id,"IDs"),e("V1 // Shop cluster","V1","cluster"),e("Theme buttons",o.headlines.shop.settings.template_editor,"themes"),o.themes.themes[0].en.title.length>0&&e("Name // Developer // Price",o.themes.themes[0].en.title+" // "+o.themes.themes[0].designer+" // â‚¬"+o.themes.themes[0].prices[1].price,"store/themes?query="+o.themes.themes[0].en.title),e("Languages // Currencies",`${Object.keys(o.headlines.shop.languages).length}:${Object.keys(o.headlines.shop.languages).join(", ")} // ${Object.keys(o.headlines.shop.currencies).length}: ${Object.keys(o.headlines.shop.currencies).join(", ")}`,"settings/internationalization"),e("Change BO lang.","NL","language"),e("JSON","Open page JSON",location.origin+location.pathname+".json",!0),e("Api/app (js)scripts",Object.keys(o.headlines.shop.scripts).length||"None",Object.keys(o.headlines.shop.scripts).length&&"store/purchases/apps"),e("Quick links","show","quickies"),e("Subscription info","show","SUB"),table.appendChild(tbody),div_box.appendChild(table),div_box.appendChild(v_box),div_box.appendChild(close),div_wrap.appendChild(div_box),document.body.appendChild(div_wrap)}let t=window.SEOshop.react.shop,o={url_calls:[t.shop_url+"?format=json",t.admin_url+"/admin/shop_users.json",t.admin_url+"/admin/themes.json"],quickLinks:["/orders;/customers","/products;/categories","/pages;/custom_translations","/settings/advanced","/shipping_methods;/settings/workflow","/notifications;/settings/web_extras","/payment_providers;/taxes"],sub_info:["End date;"+t.subscription.end_date,"Has B2B;"+t.subscription.has_b2b,"Blogs;"+t.subscription.has_blogs,"Content templates;"+t.subscription.has_content_editor,"Discount rules;"+t.subscription.has_discount_rules,t.multishop_id>0?"Multishop;"+t.multishop_id+" ("+t.multishop_sync_by+" sync)":"","Product bundles;"+t.subscription.has_product_bundles,"Product discounts;"+t.subscription.has_product_discounts,"Max products;"+t.subscription.max_products,t.subscription.max_user_accounts>0?"Max users;"+t.subscription.max_user_accounts:"Max users;no limit","Max languages;"+t.subscription.max_languages,"Monthly fee;"+t.subscription.monthly_fee_amount,"Shop Status;"+t.status,"Last provisioning (aka. billing push);"+t.subscription.provisioned_at],clusterlist:{1:"Netherlands",14:"German",15:"Spanish",19:"Russian",23:"Norwegian",28:"UK",38:"US",40:"CAN",42:"ROW",44:"REMEA",1000:"Lightspeed USA",1001:"Lightspeed Canada",1002:"Lightspeed Rest of World",1003:"Lightspeed Australia"},name:t.company_name,domain:t.shop_url,shop_id:t.id,rad_id:t.retail_id,shopowner:""};for(const e in o.clusterlist)e==t.reseller_id&&(o.cluster=o.clusterlist[e]);o.url_calls.forEach(e=>{let t=new XMLHttpRequest;t.open("GET",e,!1),t.onload=function(){if(t.status>=200&&t.status<400){let e=JSON.parse(t.responseText);console.log(e),o[Object.keys(e)[0]]=e}else if(302===t.status){let e=this.getResponseHeader("Location");console.log(e)}else console.log("Please log in again")},t.send()}),console.log(o),e()}();
