!function(){let e=window.SEOshop.react.shop,t={url_calls:[e.shop_url+"?format=json",e.admin_url+"/admin/shop_users.json",e.admin_url+"/admin/themes.json"],quickLinks:["/orders;/customers","/products;/categories","/pages;/custom_translations","/settings;/settings/advanced","/shipping_methods;/settings/workflow","/notifications;/settings/web_extras","/payment_providers;/taxes"],quicktools:["?limit=250;href;"+location.href+"?limit=250","?with_context=1;href;"+location.href+"?with_context=1",'export products in categories;onclick;function(){let script = document.createElement("script");script.src = "https://cdn.jsdelivr.net/gh/meatyhippo/Omnichannel-customisation@v1.8.4/Scripts/eCom/theme_search.js";document.body.appendChild(script);document.body.removeChild(div_wrap);}'],sub_info:["End date;"+e.subscription.end_date,"Has B2B;"+e.subscription.has_b2b,"Blogs;"+e.subscription.has_blogs,"Content templates;"+e.subscription.has_content_editor,"Discount rules;"+e.subscription.has_discount_rules,e.multishop_id>0?"Multishop;"+e.multishop_id+" ("+e.multishop_sync_by+" sync)":"","Product bundles;"+e.subscription.has_product_bundles,"Product discounts;"+e.subscription.has_product_discounts,"Max products;"+e.subscription.max_products,e.subscription.max_user_accounts>0?"Max users;"+e.subscription.max_user_accounts:"Max users;no limit","Max languages;"+e.subscription.max_languages,"Monthly fee;"+e.subscription.monthly_fee_amount,"Last provisioning (aka. billing push);"+e.subscription.provisioned_at],clusterlist:{1:"Netherlands",14:"German",15:"Spanish",19:"Russian",23:"Norwegian",28:"UK",38:"US",40:"CAN",42:"ROW",44:"REMEA",1000:"Lightspeed USA",1001:"Lightspeed Canada",1002:"Lightspeed Rest of World",1003:"Lightspeed Australia"},name:e.company_name,domain:e.shop_url,shop_id:e.id,rad_id:e.retail_id,shopowner:""};for(const o in t.clusterlist)o==e.reseller_id&&(t.cluster=t.clusterlist[o]);t.url_calls.forEach((e,o)=>{let a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="json",a.onload=function(){if(a.status>=200&&a.status<400?(console.log(a.response),t[Object.keys(a.response)[0]]=a.response):console.log("Please log in again"),302===a.status){let e=this.getResponseHeader("Location");console.log(e)}},a.send()}),setTimeout(()=>{function o(o,n,d,i){if(row=document.createElement("tr"),col=document.createElement("td"),col.appendChild(document.createTextNode(`${o}:`)),row.appendChild(col),d)switch(d){case"IDs":col=document.createElement("td"),p=document.createTextNode(n),col.appendChild(p),t.rad_id>0&&(col.appendChild(document.createTextNode(" // ")),a=document.createElement("a"),a.appendChild(document.createTextNode(t.rad_id)),a.target="_blank",a.href=`https://shop.merchantos.com/?name=system.views.account&form_name=view&id=${t.rad_id}&tab=details`,col.appendChild(a)),t.shop_users.shop_users.forEach(e=>{e.is_shop_owner&&(t.shopowner=e.user.email)}),col.appendChild(document.createTextNode(" // ")),a=document.createElement("a"),a.appendChild(document.createTextNode(t.shopowner)),a.target="_blank",a.href=location.origin+"/admin/shop_users",col.appendChild(a);break;case"cluster":col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(n)),a.target="_blank",location.host.includes("webshopapp")?a.href=`https://seoshop.webshopapp.com/backoffice/admin-shops/edit?id=${t.shop_id}`:location.host.includes("shoplightspeed")&&(a.href=`https://store.shoplightspeed.com/backoffice/admin-shops/edit?id=${t.shop_id}`),col.appendChild(a),col.appendChild(document.createTextNode(` // ${t.cluster}`)),col.appendChild(document.createTextNode(` // ${e.status.toUpperCase()}`));break;case"themes":let o=["search;","settings;"+`${location.origin}/admin/theme/preview`,n?"editor;"+`${location.origin}/admin/${d}/${t.headlines.shop.theme_id}`:"","custom css;"+`${location.origin}/admin/themes/${t.headlines.shop.theme_id}/editor/css`];col=document.createElement("td"),o.forEach((e,t)=>{a=document.createElement("a"),a.target="_blank",a.appendChild(document.createTextNode(e.split(";")[0])),"search"!=e.split(";")[0]?a.href=e.split(";")[1]:a.onclick=function(){console.log("start search");let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/gh/meatyhippo/Omnichannel-customisation@v1.8.4/Scripts/eCom/theme_search.js",document.body.appendChild(e),document.body.removeChild(div_wrap)},col.appendChild(a),""!=e&&(t!=o.length-1&&col.appendChild(document.createTextNode(" // ")))});break;case"language":col=document.createElement("td");let s={NL:1,EN:3,FR:4,DE:2},c=0;for(const e in s)c++,a=document.createElement("a"),a.onclick=function(){jQuery.post("/admin/account/edit","_method=patch&utf8=%25E2%259C%2593&user[language_id]="+s[e],function(t){Turbolinks.visit(location),console.log("switching to "+e)})},a.appendChild(document.createTextNode(e)),col.appendChild(a),c!=Object.keys(s).length&&col.appendChild(document.createTextNode(" // "));break;case"quickies":col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(" ")),a.classList.add("arrow_right"),a.onclick=function(){$("#links").toggleClass("hide"),$(this).toggleClass("arrow_down")},col.appendChild(a),div=document.createElement("div"),div.id="links",div.classList.add("hide"),tables=document.createElement("table"),t.quickLinks.forEach(e=>{tr=document.createElement("tr"),e.split(";").forEach(e=>{td=document.createElement("td"),a=document.createElement("a"),a.href=location.origin+"/admin"+e,a.target="_blank",a.appendChild(document.createTextNode(e)),td.appendChild(a),tr.appendChild(td)}),tables.appendChild(tr)}),div.appendChild(tables),col.appendChild(div);break;case"SUB":col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(" ")),a.classList.add("arrow_right"),a.onclick=function(){$("#SUB").toggleClass("hide"),$(this).toggleClass("arrow_down")},col.appendChild(a),div=document.createElement("div"),div.id="SUB",div.classList.add("hide"),tables=document.createElement("table"),t.sub_info.forEach(e=>{tr=document.createElement("tr"),e.split(";").forEach(e=>{td=document.createElement("td"),td.appendChild(document.createTextNode(e)),tr.appendChild(td)}),tables.appendChild(tr)}),div.appendChild(tables),col.appendChild(div);break;case"tools":col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(" ")),a.classList.add("arrow_right"),a.onclick=function(){$("#TOOL").toggleClass("hide"),$(this).toggleClass("arrow_down")},col.appendChild(a),div=document.createElement("div"),div.id="TOOL",div.classList.add("hide"),t.quicktools.forEach(e=>{console.log(e.split(";")[2]),tr=document.createElement("tr"),a=document.createElement("a"),"href"==e.split(";")[1]?a.href=e.split(";")[2]:a.onclick=e.split(";")[2],a.appendChild(document.createTextNode(e.split(";")[0])),tr.appendChild(a),div.appendChild(tr)}),col.appendChild(div);break;default:col=document.createElement("td"),a=document.createElement("a"),a.appendChild(document.createTextNode(n)),a.target="_blank",a.href=i?d:`${location.origin}/admin/${d}`,col.appendChild(a)}else col=document.createElement("td"),col.appendChild(document.createTextNode(n));row.appendChild(col),tbody.appendChild(row)}div_wrap=document.createElement("div"),div_wrap.id="shop_id_wrapper",div_wrap.onclick=function(){document.body.removeChild(div_wrap),document.querySelectorAll('script[src^="https://cdn.jsdelivr.net/gh/meatyhippo/"]').forEach(e=>{document.body.removeChild(e)}),document.querySelectorAll('link[href^="https://cdn.jsdelivr.net/gh/meatyhippo/"]').forEach(e=>{document.head.removeChild(e)})},div_box=document.createElement("div"),div_box.id="shop_id_box",div_box.onclick=function(e){e.stopPropagation()},v_box=document.createElement("div"),v_box.id="shop_id_version",v_box.innerHTML="<p>v1.5</br>what's new: theme search, subscription info, RETAIL ID!</p>",close=document.createElement("div"),close.id="shop_id_close",close.onclick=function(){document.body.removeChild(div_wrap),document.querySelectorAll('script[src^="https://cdn.jsdelivr.net/gh/meatyhippo/"]').forEach(e=>{document.body.removeChild(e)}),document.querySelectorAll('link[href^="https://cdn.jsdelivr.net/gh/meatyhippo/"]').forEach(e=>{document.head.removeChild(e)})},table=document.createElement("table"),table.id="shop_id_table",tbody=document.createElement("tbody"),o(`Shop id // ${t.rad_id>0?"rad_id // ":""}primary user`,t.shop_id,"IDs"),o("V1 // Shop cluster // Shop status","V1","cluster"),o("Theme buttons",t.headlines.shop.settings.template_editor,"themes"),t.themes.themes[0].en.title.length>0&&o("Name // Developer // Price",t.themes.themes[0].en.title+" // "+t.themes.themes[0].designer+" // â‚¬"+t.themes.themes[0].prices[1].price,"store/themes?query="+t.themes.themes[0].en.title),o("Languages // Currencies",`${Object.keys(t.headlines.shop.languages).length}:${Object.keys(t.headlines.shop.languages).join(", ")} // ${Object.keys(t.headlines.shop.currencies).length}: ${Object.keys(t.headlines.shop.currencies).join(", ")}`,"settings/internationalization"),o("Change BO lang.","NL","language"),o("JSON","Open page JSON",location.origin+location.pathname+".json",!0),o("Api/app (js)scripts",Object.keys(t.headlines.shop.scripts).length||"None",Object.keys(t.headlines.shop.scripts).length&&"store/purchases/apps"),o("Quick links","show","quickies"),o("Subscription info","show","SUB"),o("Extra tools","show","tools"),console.log(t),table.appendChild(tbody),div_box.appendChild(table),div_box.appendChild(v_box),div_box.appendChild(close),div_wrap.appendChild(div_box),document.body.appendChild(div_wrap)},1e3)}();
